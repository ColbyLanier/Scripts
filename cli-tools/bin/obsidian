#!/usr/bin/env bash
# obsidian - WSL wrapper for the Obsidian 1.12 native CLI
# Proxies commands to the Windows Obsidian.exe via WSL interop
# Requires: Obsidian 1.12+ (Early Access) with Catalyst license, running on Windows

OBSIDIAN_EXE="/mnt/c/Users/colby/AppData/Local/Programs/obsidian/Obsidian.exe"

if [[ ! -x "$OBSIDIAN_EXE" ]]; then
    echo "Error: Obsidian.exe not found at $OBSIDIAN_EXE" >&2
    exit 1
fi

exec "$OBSIDIAN_EXE" "$@" 2>&1 | grep -v "^[0-9]\{4\}-[0-9]\{2\}-[0-9]\{2\} [0-9]\{2\}:[0-9]\{2\}:[0-9]\{2\} Loading"
